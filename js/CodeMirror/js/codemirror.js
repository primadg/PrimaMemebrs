var CodeMirrorConfig=window.CodeMirrorConfig||{};var CodeMirror=(function(){function e(f,h){for(var g in h){if(!f.hasOwnProperty(g)){f[g]=h[g]}}}function d(h,g){for(var f=0;f<h.length;f++){g(h[f])}}e(CodeMirrorConfig,{stylesheet:"",path:"",parserfile:[],basefiles:["util.js","stringstream.js","select.js","undo.js","editor.js","tokenize.js"],linesPerPass:30,passDelay:200,continuousScanning:false,saveFunction:null,onChange:null,undoDepth:50,undoDelay:800,disableSpellcheck:true,textWrapping:true,readOnly:false,width:"100%",height:"300px",autoMatchParens:false,parserConfig:null,tabMode:"indent",activeTokens:null,cursorActivity:null,lineNumbers:false,indentUnit:2});function c(f){return function(i){var h=document.createElement("DIV"),j=document.createElement("DIV"),g=document.createElement("DIV");h.style.position="relative";j.style.position="absolute";j.style.height="100%";if(j.style.setExpression){j.style.setExpression("height","this.previousSibling.offsetHeight + 'px'")}j.style.top="0px";j.style.overflow="hidden";f(h);h.appendChild(i);h.appendChild(j);g.className="CodeMirror-line-numbers";j.appendChild(g)}}function b(f){var k=f.contentWindow,l=k.document,m=f.nextSibling,j=m.firstChild;var i=1,n=null;function g(){if(m.offsetWidth!=n){n=m.offsetWidth;m.style.left="-"+(f.parentNode.style.marginLeft=n+"px")}}function h(){var o=20+Math.max(l.body.offsetHeight,f.offsetHeight)-j.offsetHeight;for(var p=Math.ceil(o/10);p>0;p--){j.appendChild(document.createTextNode(i++));j.appendChild(document.createElement("BR"))}m.scrollTop=l.body.scrollTop||l.documentElement.scrollTop||0}g();h();k.addEventHandler(k,"scroll",h);setInterval(g,500)}function a(f,g){if(g.dumbTabs){g.tabMode="spaces"}else{if(g.normalTab){g.tabMode="default"}}this.options=g=g||{};e(g,CodeMirrorConfig);var k=this.frame=document.createElement("IFRAME");k.frameBorder=0;k.src="javascript:false;";k.style.border="0";k.style.width=g.width;k.style.height=g.height;k.style.display="block";if(f.appendChild){var i=f;f=function(l){i.appendChild(l)}}if(g.lineNumbers){f=c(f)}f(k);k.CodeMirror=this;this.win=k.contentWindow;if(typeof g.parserfile=="string"){g.parserfile=[g.parserfile]}if(typeof g.stylesheet=="string"){g.stylesheet=[g.stylesheet]}var h=['<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html><head>'];d(g.stylesheet,function(l){h.push('<link rel="stylesheet" type="text/css" href="'+l+'"/>')});d(g.basefiles.concat(g.parserfile),function(l){h.push('<script type="text/javascript" src="'+g.path+l+'"><\/script>')});h.push('</head><body style="border-width: 0;" class="editbox" spellcheck="'+(g.disableSpellcheck?"false":"true")+'"></body></html>');var j=this.win.document;j.open();j.write(h.join(""));j.close()}a.prototype={init:function(){if(this.options.initCallback){this.options.initCallback(this)}if(this.options.lineNumbers){b(this.frame)}},getCode:function(){return this.editor.getCode()},setCode:function(f){this.editor.importCode(f)},selection:function(){return this.editor.selectedText()},reindent:function(){this.editor.reindent()},focus:function(){this.win.focus();if(this.editor.selectionSnapshot){this.win.select.selectCoords(this.win,this.editor.selectionSnapshot)}},replaceSelection:function(f){this.focus();this.editor.replaceSelection(f);return true},replaceChars:function(g,h,f){this.editor.replaceChars(g,h,f)},getSearchCursor:function(g,f){return this.editor.getSearchCursor(g,f)},undo:function(){this.editor.history.undo()},redo:function(){this.editor.history.redo()},historySize:function(){return this.editor.history.historySize()},grabKeys:function(g,f){this.editor.grabKeys(g,f)},ungrabKeys:function(){this.editor.ungrabKeys()},cursorPosition:function(f){if(this.win.select.ie_selection){this.focus()}return this.editor.cursorPosition(f)},firstLine:function(){return this.editor.firstLine()},lastLine:function(){return this.editor.lastLine()},nextLine:function(f){return this.editor.nextLine(f)},prevLine:function(f){return this.editor.prevLine(f)},lineContent:function(f){return this.editor.lineContent(f)},setLineContent:function(f,g){this.editor.setLineContent(f,g)},insertIntoLine:function(g,f,h){this.editor.insertIntoLine(g,f,h)},selectLines:function(i,f,h,g){this.win.focus();this.editor.selectLines(i,f,h,g)},nthLine:function(g){var f=this.firstLine();for(;g>1&&f!==false;g--){f=this.nextLine(f)}return f},lineNumber:function(f){var g=0;while(f!==false){g++;f=this.prevLine(f)}return g},jumpToLine:function(f){this.selectLines(this.nthLine(f),0);this.win.focus()},currentLine:function(){return this.lineNumber(this.cursorPosition().line)}};a.InvalidLineHandle={toString:function(){return"CodeMirror.InvalidLineHandle"}};a.replace=function(f){if(typeof f=="string"){f=document.getElementById(f)}return function(g){f.parentNode.replaceChild(g,f)}};a.fromTextArea=function(h,g){if(typeof h=="string"){h=document.getElementById(h)}g=g||{};if(h.style.width){g.width=h.style.width}if(h.style.height){g.height=h.style.height}if(g.content==null){g.content=h.value}if(h.form){function f(){h.value=j.getCode()}if(typeof h.form.addEventListener=="function"){h.form.addEventListener("submit",f,false)}else{h.form.attachEvent("onsubmit",f)}}function i(k){if(h.nextSibling){h.parentNode.insertBefore(k,h.nextSibling)}else{h.parentNode.appendChild(k)}}h.style.display="none";var j=new a(i,g);return j};a.isProbablySupported=function(){var f;if(window.opera){return Number(window.opera.version())>=9.52}else{if(/Apple Computers, Inc/.test(navigator.vendor)&&(f=navigator.userAgent.match(/Version\/(\d+(?:\.\d+)?)\./))){return Number(f[1])>=3}else{if(document.selection&&window.ActiveXObject&&(f=navigator.userAgent.match(/MSIE (\d+(?:\.\d*)?)\b/))){return Number(f[1])>=6}else{if(f=navigator.userAgent.match(/gecko\/(\d{8})/i)){return Number(f[1])>=20050901}else{if(f=navigator.userAgent.match(/AppleWebKit\/(\d+)/)){return Number(f[1])>=525}else{return null}}}}}};return a})();
